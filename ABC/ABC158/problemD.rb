# def solve
#   s = gets.chomp
#   q = gets.to_i
#   arr = []
#   (0..q - 1).each do |i|
#     arr.push(gets.split)
#   end
#
#   (0..arr.length - 1).each do |i|
#     if arr[i][0] == '1'
#
#     end
#   end

  # (0..arr.length - 1).each do |i|
  #   if arr[i][0] == '1'
  #     s.reverse
  #   else
  #     if arr[i][1] == '1'
  #       s = arr[i][2] + s
  #     else
  #       s = s + arr[i][2]
  #     end
  #   end
  #   p s
  # end
#
#   print s
# end
#
# solve